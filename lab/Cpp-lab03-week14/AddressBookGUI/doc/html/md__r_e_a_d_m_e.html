<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GUI for AddressBook: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="doxygenSchoolIcon.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">GUI for AddressBook<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">This is Qt based GUI for AddressBook</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md0"></a>
实验三 通信录程序设计</h1>
<h2><a class="anchor" id="autotoc_md1"></a>
一、实验目的</h2>
<ol type="1">
<li>熟悉 Qt 对话框应用程序开发的基本过程；</li>
<li>学习数据驱动标准小部件的使用；</li>
<li>学些文件对话框的使用；</li>
<li>练习较复杂的交互式操作的控制流程；</li>
<li>练习文件输入/输出流的使用。</li>
</ol>
<h2><a class="anchor" id="autotoc_md2"></a>
二、实验内容</h2>
<p >实现一个具有一定实用价值的通讯录程序</p>
<h2><a class="anchor" id="autotoc_md3"></a>
三（一）、实验系统设计</h2>
<p >从操作逻辑中建立 view (界面对象：按钮，表格，组合框…)和 model（内部数据地址簿类与对象，相关方法，槽函数…）之间的时序逻辑关联，并设计使用槽函数将程序的各种数据结构和方法有机地串联起来。</p>
<h3><a class="anchor" id="autotoc_md4"></a>
1、通信录程序的框架结构</h3>
<p >即给出程序设计架构图（可参考实验指导书上图，说明界面、AddressBook(类)、文件系统三者之间的关系）。</p>
<div class="fragment"><div class="line">graph LR;</div>
<div class="line">gui[对话框界面\nQTableWidget] &lt;--槽函数--&gt; 地址簿对象AddressBook &lt;--QTextStream--&gt; database[(文件系统)]</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md5"></a>
2、界面设计</h3>
<p ><img src="lab03-0.png" alt="lab03" class="inline"/></p>
<ul>
<li>GroupBox 小部件</li>
<li>PushButton 小部件</li>
<li>LineEdit 小部件</li>
<li>Label 小部件</li>
<li>QTableWidget 小部件 Qt 为我们提供了两类表格小部件（QTableView 和 QTableWidget）供用户显示二维表。</li>
<li>垂直布局（Vertical Layout）在放置完所有按钮后，点选所有按钮，并点击 Vertical Layout 布局按钮进行布局。</li>
<li>组合框（Combo Box）一个 ComboBox 相当于一个 LineEdit 和一个 List 组件的结合。用于在一列数据中选择其 中某一项。一个 ComboBox 的数据可以来源于一个 QStringList 对象。</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
三（二）、主要程序说明</h2>
<h3><a class="anchor" id="autotoc_md7"></a>
1、给出关键处理代码，并加以注释说明，必须包含界面上新建、更新、删除对应的功能处理代码</h3>
<ol type="1">
<li>void <a class="el" href="class_widget.html#a2ff08b3214656384b44e055927b540e8" title="newButtonSlot 2) 加入一行数据；">Widget::newButtonSlot()</a> 用于新建联系人，将新建联系人的信息添加到地址簿中，同时在界面上显示出来。</li>
<li>void <a class="el" href="class_widget.html#a0e14af85648a72001f9af5472346894a" title="alterALine 5) 修改某一行；">Widget::alterALine()</a> 修改某一行，更新联系人</li>
<li>void <a class="el" href="class_widget.html#a28d0a5825bee117de1769df1c2c2f387" title="deleteARow 4) 删除一行数据；">Widget::deleteARow()</a> 删除一行数据</li>
</ol>
<h3><a class="anchor" id="autotoc_md8"></a>
2、若实现了通信录排序功能，请给出相应处理代码，且在程序测试部分，给出测试结果</h3>
<ol type="1">
<li><a class="el" href="class_widget.html#a4a69d6402e3c67623d1d081fcea2db20" title="model">Widget::model</a> QStandardItemModel* model 图示即为姓名降序排序</li>
</ol>
<p ><img src="lab03-0.png" alt="lab03-descending" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md9"></a>
四、 程序测试</h2>
<p >给出程序测试结果，并简要说明测试过程</p>
<h3><a class="anchor" id="autotoc_md10"></a>
测试结果</h3>
<p >将文件从 Downloads 路径下读入，然后将数据显示在界面上，然后对界面上的数据进行修改，然后将修改后的数据写入文件中。</p>
<p ><img src="lab03-1.png" alt="lab03-altered" class="inline"/> <img src="lab03-0.png" alt="lab03" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md11"></a>
五、讨论及心得</h2>
<h3><a class="anchor" id="autotoc_md12"></a>
1、实验过程中遇到的问题与解决方法</h3>
<p ><a href="https://0xffff.one/d/1390-qt-li-mian-std-sort-diao-yong-bie">qt 里面 <code>std::sort</code> 调用别的类里面友元函数当作排序依据显示 Use of undeclared identifier</a></p>
<blockquote class="doxtable">
<p >&zwj;0x1234 At 0xFFFF搬砖艺术：</p>
<p >lambda 早一点绑定了参数和 customSort，相当于一个闭包给 sort，不全局声明的友元函数对于他是可见的，也可以自己写个函数在类中调用 customSort 就行然后再传给 sort，还有种办法就是把友元函数的定义写在外面。</p>
<p >然后这里存在参数依赖查找，简称ADL，他会去Contact类里找有没有对应的函数，所以如果参数是其他的不包含Contact就找不到了。 </p>
</blockquote>
<p>2、目前尚未解决的问题</p>
<p ><a href="https://0xffff.one/d/1390-qt-li-mian-std-sort-diao-yong-bie">qt 里面 <code>std::sort</code> 调用别的类里面友元函数当作排序依据显示 Use of undeclared identifier</a></p>
<p >3、实验设计思路的创新等</p>
<p >利用 MVC 框架去对数据进行管理，将数据和界面分离，使得数据的管理更加方便。</p>
<h2><a class="anchor" id="autotoc_md13"></a>
六、Reference</h2>
<p ><a href="https://zhuanlan.zhihu.com/p/47402006">Qt模型/视图框架（一） - 小豆君编程分享的文章 - 知乎</a></p>
<p ><a href="http://c.biancheng.net/view/1869.html">Qt QStandardItemModel用法（超级详细）</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
