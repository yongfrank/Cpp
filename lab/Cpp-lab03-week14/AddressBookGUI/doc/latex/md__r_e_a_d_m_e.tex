\hypertarget{md__r_e_a_d_m_e_autotoc_md0}{}\doxysection{实验三 通信录程序设计}\label{md__r_e_a_d_m_e_autotoc_md0}
\hypertarget{md__r_e_a_d_m_e_autotoc_md1}{}\doxysubsection{一、实验目的}\label{md__r_e_a_d_m_e_autotoc_md1}

\begin{DoxyEnumerate}
\item 熟悉 Qt 对话框应用程序开发的基本过程；
\item 学习数据驱动标准小部件的使用；
\item 学些文件对话框的使用；
\item 练习较复杂的交互式操作的控制流程；
\item 练习文件输入/输出流的使用。
\end{DoxyEnumerate}\hypertarget{md__r_e_a_d_m_e_autotoc_md2}{}\doxysubsection{二、实验内容}\label{md__r_e_a_d_m_e_autotoc_md2}
实现一个具有一定实用价值的通讯录程序\hypertarget{md__r_e_a_d_m_e_autotoc_md3}{}\doxysubsection{三（一）、实验系统设计}\label{md__r_e_a_d_m_e_autotoc_md3}
从操作逻辑中建立 view (界面对象：按钮，表格，组合框…)和 model（内部数据地址簿类与对象，相关方法，槽函数…）之间的时序逻辑关联，并设计使用槽函数将程序的各种数据结构和方法有机地串联起来。\hypertarget{md__r_e_a_d_m_e_autotoc_md4}{}\doxysubsubsection{1、通信录程序的框架结构}\label{md__r_e_a_d_m_e_autotoc_md4}
即给出程序设计架构图（可参考实验指导书上图，说明界面、\+Address\+Book(类)、文件系统三者之间的关系）。


\begin{DoxyCode}{0}
\DoxyCodeLine{graph LR;}
\DoxyCodeLine{gui[对话框界面\(\backslash\)nQTableWidget] <-\/-\/槽函数-\/-\/> 地址簿对象AddressBook <-\/-\/QTextStream-\/-\/> database[(文件系统)]}

\end{DoxyCode}
\hypertarget{md__r_e_a_d_m_e_autotoc_md5}{}\doxysubsubsection{2、界面设计}\label{md__r_e_a_d_m_e_autotoc_md5}



\begin{DoxyItemize}
\item Group\+Box 小部件
\item Push\+Button 小部件
\item Line\+Edit 小部件
\item Label 小部件
\item QTable\+Widget 小部件 Qt 为我们提供了两类表格小部件（\+QTable\+View 和 QTable\+Widget）供用户显示二维表。
\item 垂直布局（\+Vertical Layout）在放置完所有按钮后，点选所有按钮，并点击 Vertical Layout 布局按钮进行布局。
\item 组合框（\+Combo Box）一个 Combo\+Box 相当于一个 Line\+Edit 和一个 List 组件的结合。用于在一列数据中选择其 中某一项。一个 Combo\+Box 的数据可以来源于一个 QString\+List 对象。
\end{DoxyItemize}\hypertarget{md__r_e_a_d_m_e_autotoc_md6}{}\doxysubsection{三（二）、主要程序说明}\label{md__r_e_a_d_m_e_autotoc_md6}
\hypertarget{md__r_e_a_d_m_e_autotoc_md7}{}\doxysubsubsection{1、给出关键处理代码，并加以注释说明，必须包含界面上新建、更新、删除对应的功能处理代码}\label{md__r_e_a_d_m_e_autotoc_md7}

\begin{DoxyEnumerate}
\item void \mbox{\hyperlink{class_widget_a2ff08b3214656384b44e055927b540e8}{Widget\+::new\+Button\+Slot()}} 用于新建联系人，将新建联系人的信息添加到地址簿中，同时在界面上显示出来。
\item void \mbox{\hyperlink{class_widget_a0e14af85648a72001f9af5472346894a}{Widget\+::alter\+ALine()}} 修改某一行，更新联系人
\item void \mbox{\hyperlink{class_widget_a28d0a5825bee117de1769df1c2c2f387}{Widget\+::delete\+ARow()}} 删除一行数据
\end{DoxyEnumerate}\hypertarget{md__r_e_a_d_m_e_autotoc_md8}{}\doxysubsubsection{2、若实现了通信录排序功能，请给出相应处理代码，且在程序测试部分，给出测试结果}\label{md__r_e_a_d_m_e_autotoc_md8}

\begin{DoxyEnumerate}
\item \mbox{\hyperlink{class_widget_a4a69d6402e3c67623d1d081fcea2db20}{Widget\+::model}} QStandard\+Item\+Model$\ast$ model 图示即为姓名降序排序
\end{DoxyEnumerate}

\hypertarget{md__r_e_a_d_m_e_autotoc_md9}{}\doxysubsection{四、 程序测试}\label{md__r_e_a_d_m_e_autotoc_md9}
给出程序测试结果，并简要说明测试过程\hypertarget{md__r_e_a_d_m_e_autotoc_md10}{}\doxysubsubsection{测试结果}\label{md__r_e_a_d_m_e_autotoc_md10}
将文件从 Downloads 路径下读入，然后将数据显示在界面上，然后对界面上的数据进行修改，然后将修改后的数据写入文件中。

 \hypertarget{md__r_e_a_d_m_e_autotoc_md11}{}\doxysubsection{五、讨论及心得}\label{md__r_e_a_d_m_e_autotoc_md11}
\hypertarget{md__r_e_a_d_m_e_autotoc_md12}{}\doxysubsubsection{1、实验过程中遇到的问题与解决方法}\label{md__r_e_a_d_m_e_autotoc_md12}
\href{https://0xffff.one/d/1390-qt-li-mian-std-sort-diao-yong-bie}{\texttt{ qt 里面 {\ttfamily std\+::sort} 调用别的类里面友元函数当作排序依据显示 Use of undeclared identifier}}

\begin{quote}
0x1234 At 0x\+FFFF搬砖艺术：

lambda 早一点绑定了参数和 custom\+Sort，相当于一个闭包给 sort，不全局声明的友元函数对于他是可见的，也可以自己写个函数在类中调用 custom\+Sort 就行然后再传给 sort，还有种办法就是把友元函数的定义写在外面。

然后这里存在参数依赖查找，简称\+ADL，他会去\+Contact类里找有没有对应的函数，所以如果参数是其他的不包含\+Contact就找不到了。 \end{quote}
2、目前尚未解决的问题

\href{https://0xffff.one/d/1390-qt-li-mian-std-sort-diao-yong-bie}{\texttt{ qt 里面 {\ttfamily std\+::sort} 调用别的类里面友元函数当作排序依据显示 Use of undeclared identifier}}

3、实验设计思路的创新等

利用 MVC 框架去对数据进行管理，将数据和界面分离，使得数据的管理更加方便。\hypertarget{md__r_e_a_d_m_e_autotoc_md13}{}\doxysubsection{六、\+Reference}\label{md__r_e_a_d_m_e_autotoc_md13}
\href{https://zhuanlan.zhihu.com/p/47402006}{\texttt{ Qt模型/视图框架（一） -\/ 小豆君编程分享的文章 -\/ 知乎}}

\href{http://c.biancheng.net/view/1869.html}{\texttt{ Qt QStandard\+Item\+Model用法（超级详细）}} 